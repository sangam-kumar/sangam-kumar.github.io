---
layout: default
---

{% comment %}
Extract category name from URL: /categories/cs/ -> cs or /categories/cs -> cs
{% endcomment %}
{% assign category_slug = page.url | replace: '/categories/', '' | replace: '/', '' %}
{% assign all_categories = site.posts | map: 'categories' | join: ',' | split: ',' | uniq | compact %}
{% assign category_name = '' %}
{% for cat in all_categories %}
    {% assign cat_slug = cat | slugify %}
    {% if cat_slug == category_slug %}
        {% assign category_name = cat %}
        {% break %}
    {% endif %}
{% endfor %}

<div class="category-page">
    {% if category_name != '' %}
    <h1>{{ category_name }} Posts</h1>
    <div class="posts-list">
        {% assign category_posts = site.posts | where_exp: "post", "post.categories contains category_name" %}
        {% if category_posts.size > 0 %}
            {% for post in category_posts %}
            <article class="post-preview">
                <h2><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h2>
                <div class="post-meta">
                    <time datetime="{{ post.date | date: '%Y-%m-%d' }}">{{ post.date | date: "%B %d, %Y" }}</time>
                    {% if post.tags.size > 0 %}
                    <span class="tags">
                        {% for tag in post.tags %}
                        <span class="tag">{{ tag }}</span>
                        {% endfor %}
                    </span>
                    {% endif %}
                </div>
                {% if post.excerpt %}
                <p class="excerpt">{{ post.excerpt | strip_html | truncatewords: 30 }}</p>
                {% endif %}
            </article>
            {% endfor %}
        {% else %}
            <p>No posts found in this category.</p>
        {% endif %}
    </div>
    {% else %}
    <h1>Category Not Found</h1>
    <p>The category "{{ category_slug }}" could not be found.</p>
    <p><a href="{{ '/categories/' | relative_url }}">‚Üê Back to Categories</a></p>
    {% endif %}
</div>

