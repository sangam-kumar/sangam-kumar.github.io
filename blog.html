---
layout: default
title: Blog
permalink: /blog/
---

<div class="blog-index">
    {% assign categories = site.posts | map: 'categories' | join: ',' | split: ',' | uniq | compact | sort %}
    {% for category in categories %}
    {% assign category_posts = site.posts | where_exp: "post", "post.categories contains category" | sort: 'date' | reverse %}
    {% if category_posts.size > 0 %}
    <section class="category-section">
        <h2 class="category-heading">
            <a href="{{ '/categories/' | relative_url }}{{ category | slugify }}/">{{ category | capitalize }}</a>
            <span class="post-count">({{ category_posts.size }})</span>
        </h2>
        <div class="posts-list">
            {% for post in category_posts %}
            <article class="post-preview">
                <h3><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h3>
                <div class="post-meta">
                    <time datetime="{{ post.date | date: '%Y-%m-%d' }}" class="post-date">{{ post.date | date: "%B %Y" }}</time>
                    {% if post.tags.size > 0 %}
                    <span class="tags">
                        {% for tag in post.tags %}
                        <span class="tag">{{ tag }}</span>
                        {% endfor %}
                    </span>
                    {% endif %}
                </div>
                {% if post.excerpt %}
                <p class="excerpt">{{ post.excerpt | strip_html | truncatewords: 30 }}</p>
                {% endif %}
            </article>
            {% endfor %}
        </div>
    </section>
    {% endif %}
    {% endfor %}

    <!-- Categories Subsection -->
    <section class="blog-subsections">
        <h2>Categories</h2>
        <div class="categories-list">
            {% assign all_categories = site.posts | map: 'categories' | join: ',' | split: ',' | uniq | sort %}
            {% for category in all_categories %}
            {% assign posts = site.posts | where_exp: "post", "post.categories contains category" %}
            {% if posts.size > 0 %}
            <div class="category-item">
                <a href="{{ '/categories/' | relative_url }}{{ category | slugify }}/">{{ category }}</a>
                <span class="post-count">({{ posts.size }})</span>
            </div>
            {% endif %}
            {% endfor %}
        </div>
    </section>

    <!-- Tags Subsection -->
    <section class="blog-subsections">
        <h2>Tags</h2>
        <div class="tags-cloud">
            {% assign all_tags = site.posts | map: 'tags' | join: ',' | split: ',' | uniq | sort %}
            {% for tag in all_tags %}
            <a href="{{ '/tags/' | relative_url }}#{{ tag | slugify }}" class="tag-link">{{ tag }}</a>
            {% endfor %}
        </div>
    </section>
</div>

